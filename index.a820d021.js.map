{"mappings":"6IAAA,IAAOA,YAAKC,GAAAA,EAAAA,EACC,aAAXC,GAAAA,cADUD,EAAAA,EAEyB,oCAAG,GAAtCE,sCAFUF,EAAAA,EAGqB,gCAAG,GAAlCG,mCAHUH,IAAAA,EAAL,KCGP,MAAMI,EAAkB,ICDjB,MAGLC,UACE,OAAOC,KAAKC,OACTC,MACC,yIAEDC,MAAKC,GAAKA,EAAEC,SAPjBC,YAA6BL,QAAAA,OAAAA,IDAaM,QACtCC,EAAwB,IEAvB,MAGQC,cAACC,GACZ,MAAMC,QAAcX,KAAKF,gBAAgBC,UACnCa,EAAcD,EAAME,KAAKC,MAAMd,KAAKe,kBAAoBJ,EAAMK,SACpEC,QAAQC,IAAI,aAAEN,IACd,MAAMO,ECTH,SAAkBT,EAAmBE,GAC1C,OAAOF,EAAUU,MAAM,IAAIC,KAAI,CAACC,EAAaC,KAC3C,MAAMC,EAASZ,EAAYa,QAAQH,GACnC,OAAe,IAAXE,EACK9B,EAAMC,YAGX6B,IAAWD,EACN7B,EAAME,oCAGRF,EAAMG,mCDFG6B,CAAShB,EAAWE,GACpC,OAAOO,EAPTb,YAA6BR,EAAmDiB,QAAnDjB,gBAAAA,OAAmDiB,gBAAAA,IFD1BjB,GAAiB,IAAMe,KAAKc,WAE9EC,EAAOC,SAASC,cAA+B,SAC/CC,EAAUF,SAASC,cAAgC,UAEzDF,EAAKI,iBAAiB,UAAUvB,MAAMwB,IACpCA,EAAEC,iBACF,MAAMC,QAAe3B,EAAsB4B,QAAQL,EAAQM,OAC3DpB,QAAQC,IAAI,QAAEiB","sources":["src/v9/guess.ts","src/v9/index.ts","src/v9/words-repository.ts","src/v9/get-word-guesses-use-case.ts","src/v9/validate.ts"],"sourcesContent":["export enum Guess {\n  NOT_PRESENT = -1,\n  PRESENT_BUT_NOT_IN_CORRECT_POSITION = 0,\n  PRESENT_AND_IN_CORRECT_POSITION = 1,\n}\n","import { WordsRepository } from './words-repository'\nimport { GetWordGuessesUseCase } from './get-word-guesses-use-case'\n\nconst wordsRepository = new WordsRepository(window)\nconst getWordGuessesUseCase = new GetWordGuessesUseCase(wordsRepository, () => Math.random())\n\nconst form = document.querySelector<HTMLFormElement>('#form')\nconst element = document.querySelector<HTMLInputElement>('#input')\n\nform.addEventListener('submit', async e => {\n  e.preventDefault()\n  const result = await getWordGuessesUseCase.execute(element.value)\n  console.log({ result })\n})\n\nexport {}\n","type Word = string\n\nexport class WordsRepository {\n  constructor(private readonly global: typeof globalThis) {}\n\n  findAll(): Promise<Word[]> {\n    return this.global\n      .fetch(\n        'https://gist.githubusercontent.com/cesalberca/3d0e343842c7697e0f788178e59fb471/raw/22bfe35c910dd02db78fec87fa39ca25cc604816/data.json',\n      )\n      .then(x => x.json())\n  }\n}\n","import { WordsRepository } from './words-repository'\nimport { validate } from './validate'\nimport { Guess } from './guess'\n\nexport class GetWordGuessesUseCase {\n  constructor(private readonly wordsRepository: WordsRepository, private readonly randomGenerator: () => number) {}\n\n  async execute(wordToTry: string): Promise<Guess[]> {\n    const words = await this.wordsRepository.findAll()\n    const wordToGuess = words[Math.floor(this.randomGenerator() * words.length)]\n    console.log({ wordToGuess })\n    const guesses = validate(wordToTry, wordToGuess)\n    return guesses\n  }\n}\n","import { Guess } from './guess'\n\nexport function validate(wordToTry: string, wordToGuess: string): Guess[] {\n  return wordToTry.split('').map((letterToTry, indexLetterToGuess) => {\n    const status = wordToGuess.indexOf(letterToTry)\n    if (status === -1) {\n      return Guess.NOT_PRESENT\n    }\n\n    if (status !== indexLetterToGuess) {\n      return Guess.PRESENT_BUT_NOT_IN_CORRECT_POSITION\n    }\n\n    return Guess.PRESENT_AND_IN_CORRECT_POSITION\n  })\n}\n\nexport {}\n"],"names":["$a227236a0e777d38$export$7a872ecb27ac8565","Guess","NOT_PRESENT","PRESENT_BUT_NOT_IN_CORRECT_POSITION","PRESENT_AND_IN_CORRECT_POSITION","wordsRepository","findAll","this","global","fetch","then","x","json","constructor","window","getWordGuessesUseCase","async","wordToTry","words","wordToGuess","Math","floor","randomGenerator","length","console","log","guesses","split","map","letterToTry","indexLetterToGuess","status","indexOf","validate","random","form","document","querySelector","element","addEventListener","e","preventDefault","result","execute","value"],"version":3,"file":"index.a820d021.js.map"}